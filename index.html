
<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BusinessFood Manager</title>

    <!-- CSS principal -->
    <link rel="stylesheet" href="style.css?v=3">

    <!-- Librairies pour export PDF / capture -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
</head>

<body>

<!-- ======================= NAVBAR ======================= -->
<nav class="navbar">
    <div class="app-title">BusinessFood Manager</div>
    <div class="nav-links">
        <button id="tab-home" onclick="showPage('home')" class="active">Accueil</button>
        <button id="tab-dashboard" onclick="showPage('dashboard')">Dashboard</button>
        <button id="tab-ventes" onclick="showPage('ventes')">Ventes</button>
        <button id="tab-packs" onclick="showPage('packs')">Packs</button>
        <button id="tab-recettes" onclick="showPage('recettes')">Recettes</button>
        <button id="tab-ingredients" onclick="showPage('ingredients')">IngrÃ©dients</button>
        <button id="tab-vendeurs" onclick="showPage('vendeurs')">Vendeurs</button>
        <button id="tab-depenses" onclick="showPage('depenses')">DÃ©penses</button>
        <button id="tab-historique" onclick="showPage('historique')">Historique</button>
        <button id="tab-tutoriel" onclick="showPage('tutoriel')">Tutoriel</button>
    </div>
</nav>

<!-- ======================= PAGE : ACCUEIL ======================= -->
<section id="page-home" class="page">
    <div class="home-hero card">
        <h1>BusinessFood Manager</h1>
        <p class="home-subtitle">
            GÃ©rez vos ingrÃ©dients, recettes, produits finis, ventes et marges
            en quelques clics, que vous fassiez des boissons, des plats cuisinÃ©s
            ou des pÃ¢tisseries.
        </p>

        <div class="home-signature">
            ConÃ§u par <strong>Takougang Eddy</strong> â€“ Fotsi Global Services<br>
            Â© 2025 â€“ BusinessFood Manager
        </div>
    </div>

    <!-- Carte : Configurer l'application -->
    <div class="home-card">
        <h2>Configurer BusinessFood Manager</h2>
        <p>
            Personnalise ton activitÃ© : type (boissons, plats, pÃ¢tisseriesâ€¦),
            nom de ton produit fini (bouteille, assiette, piÃ¨ceâ€¦) et
            une marque ou un nom de produit (ex : Lossi Ananas Menthe Betterave).
        </p>
        <button class="btn btn-success" id="btn-open-config-home">
            âš™ Configurer l'application
        </button>
    </div>

    <!-- Carte : Commencer une vente -->
    <div class="home-card">
        <h2>Commencer une vente</h2>
        <p>Enregistrer une nouvelle vente de produits finis, avec ou sans pack.</p>
        <button class="btn btn-primary" onclick="showPage('ventes')">
            âœ Aller Ã  la page Ventes
        </button>
    </div>

    <!-- Carte : GÃ©rer mes recettes -->
    <div class="home-card">
        <h2>GÃ©rer mes recettes</h2>
        <p>CrÃ©er ou modifier les recettes qui gÃ©nÃ¨rent vos produits finis.</p>
        <button class="btn btn-pink" onclick="showPage('recettes')">
            âœ Aller Ã  la page Recettes
        </button>
    </div>

    <!-- Carte : Dashboard -->
    <div class="home-card">
        <h2>Dashboard & RÃ©sultats</h2>
        <p>Voir le chiffre dâ€™affaires, les dÃ©penses, le bÃ©nÃ©fice et la capacitÃ© restante.</p>
        <button class="btn btn-secondary" onclick="showPage('dashboard')">
            âœ Voir le tableau de bord
        </button>
    </div>

    <!-- Carte : Tutoriel -->
    <div class="home-card">
        <h2>Prendre lâ€™outil en main</h2>
        <p>Suivre le tutoriel pas Ã  pas pour apprendre Ã  utiliser BusinessFood Manager.</p>
        <button class="btn btn-yellow" onclick="showPage('tutoriel')">
            âœ Ouvrir le tutoriel
        </button>
    </div>
</section>

<!-- ======================= PAGE : CONFIGURATION ======================= -->
<section id="page-config" class="page hidden">
    <div class="card">
        <h1>Configuration initiale</h1>
        <p class="subtitle">
            Indique le type d'activitÃ© et comment tu appelles ton produit fini.<br>
            Exemple : boisson en bouteille, plat en assiette, pÃ¢tisserie Ã  la piÃ¨ceâ€¦
        </p>

        <label>Type d'activitÃ© :</label>
        <input
            type="text"
            id="cfg-activite"
            placeholder="Ex : Boissons, Plats cuisinÃ©s, PÃ¢tisseries, Traiteurâ€¦">

        <label>Nom du produit fini (singulier) :</label>
        <input
            type="text"
            id="cfg-produit-s"
            placeholder="Ex : bouteille, assiette, piÃ¨ce">

        <label>Nom du produit fini (pluriel) :</label>
        <input
            type="text"
            id="cfg-produit-p"
            placeholder="Ex : bouteilles, assiettes, piÃ¨ces">

        <label>Marque / nom du produit :</label>
        <input
            type="text"
            id="cfg-exemple"
            placeholder="Ex : Lossi Ananas Menthe Betterave, Beignets fourrÃ©sâ€¦">

        <button id="btn-save-config" class="btn btn-primary">
            Enregistrer la configuration
        </button>
    </div>
</section>

<!-- ======================= PAGE : DASHBOARD ======================= -->
<section id="page-dashboard" class="page hidden">
    <div class="dashboard-grid">

        <!-- Produits finis vendus -->
        <div class="dash-card">
            <h3 id="label-dashboard-total">Total produits finis vendus</h3>
            <p id="dash-total-gaufres">0</p>
        </div>

        <!-- Chiffre dâ€™affaires -->
        <div class="dash-card">
            <h3>Revenu total</h3>
            <p id="dash-revenu-total">0 FCFA</p>
        </div>

        <!-- DÃ©penses -->
        <div class="dash-card">
            <h3>DÃ©penses totales</h3>
            <p id="dash-depenses">0 FCFA</p>
        </div>

        <!-- BÃ©nÃ©fice net -->
        <div class="dash-card">
            <h3>BÃ©nÃ©fice net</h3>
            <p id="dash-benefice-net">0 FCFA</p>
        </div>

        <!-- Stock de produits finis restants -->
        <div class="dash-card">
            <h3 id="label-dashboard-stock">Stock de produits finis restants</h3>
            <p id="dash-stock-restant">0 produits</p>
        </div>

        <!-- CapacitÃ© restante -->
        <div class="dash-card">
            <h3 id="label-dashboard-capacite">CapacitÃ© restante (produits finis possibles)</h3>
            <p id="dash-capacite">0 produits</p>
        </div>

        <!-- Meilleur vendeur -->
        <div class="dash-card big">
            <h3>Meilleur vendeur</h3>
            <p id="dash-best-vendeur">-</p>
        </div>

        <!-- Pack le plus vendu -->
        <div class="dash-card big">
            <h3>Pack le plus vendu</h3>
            <p id="dash-best-pack">-</p>
        </div>

    </div>

    <hr class="separator">

    <h2>Statistiques avancÃ©es</h2>

    <div class="dash-advanced">
        <p id="dash-stats-ventes">Analyse ventes : -</p>
        <p id="dash-stats-ingredients">Analyse ingrÃ©dients : -</p>
    </div>

    <div style="margin-top: 20px; text-align: right;">
        <button class="btn btn-pink" onclick="shareDashboard()">
            ğŸ“² Partager le tableau de bord
        </button>

        <div class="dash-reset">
            <button class="btn btn-secondary" id="btn-reset-stock">
                ğŸ”„ RÃ©initialiser le stock de produits finis
            </button>
        </div>
    </div>
</section>

<!-- ======================= PAGE : VENTES ======================= -->
<section id="page-ventes" class="page hidden">
    <div class="card">
        <h1>Nouvelle vente</h1>
        <p class="subtitle">
            Enregistre ici une nouvelle vente. Chaque vente est indÃ©pendante et s'ajoute Ã  lâ€™historique.
        </p>

        <div class="grid-2">
            <div>
                <label>Date</label>
                <input type="date" id="vente-date" />
            </div>

            <div>
                <label>Heure</label>
                <input type="time" id="vente-heure" />
            </div>

            <div>
                <label>Vendeur</label>
                <select id="vente-vendeur"></select>
            </div>

            <div>
                <label>Lieu</label>
                <input type="text" id="vente-lieu" placeholder="MarchÃ©, boutique, Ã©vÃ©nementâ€¦" />
            </div>

            <div class="full-width">
                <label>Packs vendus</label>
                <p class="subtitle small">
                    Les packs listÃ©s ici viennent de lâ€™onglet <strong>Packs</strong>.<br>
                    Choisis un pack dans la liste, indique combien tu en as vendu,
                    puis clique sur Â« Ajouter Â».
                </p>

                <!-- Ligne de sÃ©lection du pack -->
                <div class="vente-pack-select-row">
                    <select id="vente-pack-select">
                        <option value="">-- Choisir un pack --</option>
                    </select>

                    <input type="number" id="vente-pack-qte" min="1" value="1" />

                    <button type="button" id="vente-pack-add-btn" class="btn btn-secondary">
                        â• Ajouter ce pack
                    </button>
                </div>

                <!-- Packs ajoutÃ©s pour cette vente -->
                <div id="vente-packs-choisis" class="vente-packs-choisis">
                    <em>Aucun pack encore ajoutÃ© pour cette vente.</em>
                </div>
            </div>

            <div>
                <label>UnitÃ©s vendues (hors packs)</label>
                <input type="number" id="vente-unites" min="0" value="0" />
            </div>

            <div>
                <label>Prix unitaire (FCFA)</label>
                <input type="number" id="vente-prix-unite" value="50" min="0" />
            </div>
        </div>

        <button class="btn btn-primary" id="btn-enregistrer-vente">
            â• Enregistrer la vente
        </button>
    </div>

    <div class="card" id="liste-ventes">
        <h2>Ventes du jour</h2>
        <p class="subtitle">Les ventes ajoutÃ©es apparaissent ici.</p>
        <div id="vente-liste-container"></div>
    </div>
</section>

<!-- ======================= PAGE : PACKS ======================= -->
<section id="page-packs" class="page hidden">
    <div class="container">
        <h2>Packs</h2>
        <p class="subtitle">
            CrÃ©e des packs de <strong>produits finis</strong> combinant plusieurs recettes :
            par exemple <em>2 crÃªpes chocolat + 2 crÃªpes miel</em> ou
            <em>10 gaufres + 1 boisson ananas gingembre</em>.
        </p>

        <div class="grid-2">
            <!-- CrÃ©ation d'un pack -->
            <div class="card">
                <h3>CrÃ©er un nouveau pack</h3>

                <label>Nom du pack :</label>
                <input id="pack-nom" type="text" class="form-control"
                       placeholder="Ex : Formule brunch 10 gaufres + 1 boisson">

                <h4>Contenu du pack</h4>
                <p class="small">
                    Choisis une recette, indique combien de produits finis de cette recette
                    sont inclus dans le pack.
                </p>

                <table class="table">
                    <thead>
                        <tr>
                            <th>Recette</th>
                            <th>QuantitÃ©</th>
                            <th>CoÃ»t ligne</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody id="pack-items-body">
                        <!-- lignes ajoutÃ©es en JS -->
                    </tbody>
                </table>

                <button id="btn-pack-add-row" type="button" class="btn btn-secondary">
                    + Ajouter une ligne
                </button>

                <p style="margin-top:12px;">
                    <strong>CoÃ»t total du pack : </strong>
                    <span id="pack-cost">0 FCFA</span>
                </p>

                <div class="form-row">
                    <div class="form-group">
                        <label>Marge souhaitÃ©e (%) :</label>
                        <input id="pack-margin" type="number" min="0" max="90"
                               value="30" class="form-control">
                    </div>
                    <div class="form-group">
                        <label>Prix de vente du pack (FCFA) :</label>
                        <input id="pack-price" type="number" min="0" class="form-control"
                               placeholder="Laisse vide pour auto-calcul">
                    </div>
                </div>

                <button id="btn-add-pack" type="button" class="btn btn-primary" style="margin-top:12px;">
                    âœ CrÃ©er le pack
                </button>

                <p class="small" style="margin-top:8px;">
                    âš ï¸ Le logiciel bloque la crÃ©ation dâ€™un pack vendu Ã  perte
                    (prix de vente &lt; coÃ»t total).
                </p>
            </div>

            <!-- Packs existants -->
            <div class="card">
                <h3>Packs existants</h3>
                <div id="packs-list">
                    <!-- rendu JS -->
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ======================= PAGE : RECETTES ======================= -->
<section id="page-recettes" class="page hidden">
    <div class="card">
        <h1>Recettes (sur la base que tu t'es fixÃ©e niveau prÃ©paration)</h1>
        <p class="subtitle">
            DÃ©clare ici les quantitÃ©s rÃ©elles utilisÃ©es pour prÃ©parer ta pÃ¢te, ta marmite, ta composition...
            Le systÃ¨me calculera automatiquement le coÃ»t total et le coÃ»t de revient par produit fini.
        </p>

        <h2>CrÃ©er une recette</h2>

        <label>Nom de la recette :</label>
        <input id="rec-nom" type="text" placeholder="Ex : PÃ¢te vanille">

        <label>Nombre de produits finis obtenus :</label>
        <input id="rec-nb-gaufres" type="number" min="1" placeholder="Ex : 120">

        <label>Prix de vente dâ€™un produit fini (FCFA) :</label>
        <input id="rec-prix-vente" type="number" min="0" placeholder="Ex : 200">

        <h3>IngrÃ©dients utilisÃ©s dans la recette</h3>

        <div class="recette-add-ing">
            <label>IngrÃ©dient :</label>
            <select id="rec-ingredient-select">
                <option value="">-- Choisir un ingrÃ©dient --</option>
            </select>

            <label>QuantitÃ© :</label>
            <input id="rec-ingredient-qte" type="number" min="0" placeholder="Ex : 250">

            <label>UnitÃ© :</label>
            <select id="rec-ingredient-unit">
                <option value="g">g</option>
                <option value="kg">kg</option>
                <option value="ml">ml</option>
                <option value="l">L</option>
                <option value="piece">piÃ¨ce</option>
            </select>

            <button id="rec-add-ingredient-btn" class="btn btn-secondary" style="margin-top:10px;">
                â• Ajouter cet ingrÃ©dient
            </button>
        </div>

        <br>

        <div class="card">
            <h3>IngrÃ©dients ajoutÃ©s :</h3>
            <div id="rec-ingredients-list">
                <em>Aucun ingrÃ©dient ajoutÃ© pour le moment.</em>
            </div>
        </div>

        <br>

        <button id="btn-save-recipe" class="btn btn-primary">
            Enregistrer la recette
        </button>
    </div>

    <hr>

    <div class="card">
        <h2>Recettes enregistrÃ©es</h2>
        <div id="rec-liste"></div>
    </div>
</section>

<!-- ======================= PAGE : INGRÃ‰DIENTS ======================= -->
<section id="page-ingredients" class="page hidden">
    <h1>IngrÃ©dients â€“ Stock & CoÃ»t</h1>

    <h2>Ajouter un ingrÃ©dient au stock</h2>

    <label>Nom de l'ingrÃ©dient :</label>
    <input id="ing-nom" placeholder="Ex : Farine">

    <label>Prix d'achat (FCFA) :</label>
    <input type="number" id="ing-prix" min="0" placeholder="Ex : 900">

    <label>QuantitÃ© :</label>
    <input type="number" id="ing-qt" min="0" placeholder="Ex : 1000">

    <label>UnitÃ© du paquet :</label>
    <select id="ing-unit">
        <option value="g">g</option>
        <option value="kg">kg</option>
        <option value="ml">ml</option>
        <option value="l">L</option>
        <option value="piece">piÃ¨ce</option>
        <option value="sachet">sachet</option>
    </select>

    <label>Seuil d'alerte (mÃªme unitÃ©) :</label>
    <input type="number" id="ing-seuil" min="0" placeholder="Ex : 200">

    <button id="btn-add-ingredient" class="btn btn-primary" style="margin-top: 10px;">
        Ajouter l'ingrÃ©dient
    </button>

    <h2>Stock actuel</h2>
    <div id="ingredients-list"></div>
</section>

<!-- ======================= PAGE : VENDEURS ======================= -->
<section id="page-vendeurs" class="page hidden">
    <h1>Vendeurs</h1>

    <h2>Ajouter un vendeur</h2>
    <label>Nom :</label>
    <input id="vendeur-nom" placeholder="PrÃ©nom">

    <label>Commission (% ou montant fixe) :</label>
    <input id="vendeur-commission" placeholder="Ex : 500 (montant fixe)">

    <button class="btn btn-primary" onclick="addVendeur()">
        Ajouter le Vendeur
    </button>

    <h2>Liste des vendeurs</h2>
    <div id="vendeurs-list"></div>
</section>

<!-- ======================= PAGE : DÃ‰PENSES ======================= -->
<section id="page-depenses" class="page hidden">
    <div class="container">
        <h2>DÃ©penses</h2>
        <p class="subtitle">
            Enregistre tes dÃ©penses (ingrÃ©dients, gaz, transport, salaireâ€¦).
            Tu peux choisir la <strong>date rÃ©elle</strong> de la dÃ©pense et
            corriger une ligne en cas dâ€™erreur.
        </p>

        <div class="grid-2">
            <!-- Formulaire -->
            <div class="card">
                <h3>Ajouter / modifier une dÃ©pense</h3>

                <input type="hidden" id="dep-index" value="-1">

                <label>Date de la dÃ©pense :</label>
                <input id="dep-date" type="date" class="form-control">

                <label>CatÃ©gorie / type de dÃ©pense :</label>
                <input id="dep-cat" type="text" class="form-control"
                       placeholder="Ex : Gaz, transport, loyerâ€¦">

                <label>Montant (FCFA) :</label>
                <input id="dep-montant" type="number" min="0" class="form-control"
                       placeholder="Ex : 2000">

                <label>Note (facultatif) :</label>
                <input id="dep-note" type="text" class="form-control"
                       placeholder="Ex : achat gaz pour la journÃ©e">

                <div style="margin-top:12px;">
                    <button id="btn-add-depense" type="button" class="btn btn-primary">
                        Enregistrer la dÃ©pense
                    </button>
                    <button id="btn-cancel-depense-edit" type="button"
                            class="btn btn-secondary" style="margin-left:8px;">
                        Annuler la modification
                    </button>
                </div>
            </div>

            <!-- Liste -->
            <div class="card">
                <h3>DÃ©penses enregistrÃ©es</h3>
                <div id="depenses-list">
                    <!-- rendu JS -->
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ======================= PAGE : HISTORIQUE ======================= -->
<section id="page-historique" class="page hidden">
    <h1>Historique</h1>

    <div id="historique-list"></div>

    <button class="btn btn-yellow" onclick="exportPDF()">Exporter PDF</button>
    <button class="btn btn-primary" onclick="exportCSV()">Exporter CSV</button>
    <button class="btn btn-pink" onclick="shareWhatsapp()">Partager WhatsApp</button>
</section>

<!-- ======================= PAGE : TUTORIEL ======================= -->
<section id="page-tutoriel" class="page hidden">
  <h1>Tutoriel â€“ BusinessFood Manager (version complÃ¨te)</h1>

  <p class="tuto-intro">
    Ce guide te montre le flux rÃ©el, celui qui marche au quotidien :
    <strong>Configurer â†’ IngrÃ©dients â†’ Recettes/Production â†’ Packs â†’ Ventes â†’ Dashboard/Historique â†’ Exports & Sauvegardes</strong>.
    <br><br>
    âš ï¸ Important : dans cette app, une â€œrecetteâ€ sert Ã  <strong>produire</strong> des <strong>produits finis</strong>.
    Et si tu coches <strong>â€œDÃ©duire du stock xNâ€</strong>, tu consommes aussi tes ingrÃ©dients (comme dans la V1).
  </p>

  <div class="tuto-grid">

    <!-- Ã‰tape 0 : Profils / Configurations -->
    <div class="tuto-step">
      <h3>0) Profils / Configurations (trÃ¨s important)</h3>
      <p><strong>Onglet : Config</strong></p>
      <ul>
        <li>Tu peux travailler avec <strong>plusieurs configurations</strong> (ex : â€œBoutique Aâ€, â€œBoutique Bâ€, â€œJanvierâ€, â€œFÃ©vrierâ€, â€œTestâ€, etc.).</li>
        <li>Dans la page Config, une carte â€œ<strong>Gestion des profils & donnÃ©es</strong>â€ te permet de :
          <ul>
            <li><strong>CrÃ©er</strong> un profil</li>
            <li><strong>Dupliquer</strong> (copie complÃ¨te : ingrÃ©dients, recettes, stock, ventesâ€¦)</li>
            <li><strong>Exporter / Importer</strong> un profil</li>
            <li><strong>Exporter / Importer TOUT</strong> (tous les profils)</li>
          </ul>
        </li>
      </ul>
      <p class="tuto-note">
        âœ Conseil : 1 profil = 1 activitÃ© / 1 point de vente / 1 pÃ©riode. Comme Ã§a tu ne mÃ©langes pas tes chiffres.
      </p>
    </div>

    <!-- Ã‰tape 1 : Configuration -->
    <div class="tuto-step">
      <h3>1) Configurer lâ€™application</h3>
      <p><strong>Onglet : Accueil â†’ â€œConfigurer lâ€™applicationâ€ ou menu Config</strong></p>
      <ol>
        <li>Renseigne le <strong>type dâ€™activitÃ©</strong> (boissons, plats, pÃ¢tisseriesâ€¦).</li>
        <li>DÃ©finis le nom de ton produit fini :
          <ul>
            <li><strong>Singulier</strong> (ex : bouteille, assiette, piÃ¨ce)</li>
            <li><strong>Pluriel</strong> (ex : bouteilles, assiettes, piÃ¨ces)</li>
          </ul>
        </li>
        <li>Optionnel : â€œMarque / nom du produitâ€ (ex : â€œLossi â€¦â€).</li>
        <li>Clique <strong>â€œEnregistrer la configurationâ€</strong>.</li>
      </ol>
    </div>

    <!-- Ã‰tape 2 : IngrÃ©dients -->
    <div class="tuto-step">
      <h3>2) Ajouter les ingrÃ©dients au stock</h3>
      <p><strong>Onglet : IngrÃ©dients</strong></p>
      <ol>
        <li>Remplis : <strong>Nom</strong> + <strong>Prix dâ€™achat</strong> + <strong>QuantitÃ©</strong> + <strong>UnitÃ©</strong>.</li>
        <li>Optionnel : <strong>Seuil dâ€™alerte</strong> (mÃªme unitÃ©) â†’ pratique pour voir les stocks bas.</li>
        <li>Clique <strong>â€œAjouter lâ€™ingrÃ©dientâ€</strong>.</li>
      </ol>
      <p class="tuto-note">
        âœ Si tu te trompes : utilise <strong>Modifier</strong> / <strong>Supprimer</strong> sur la fiche ingrÃ©dient.
      </p>
    </div>

    <!-- Ã‰tape 3 : Recette -->
    <div class="tuto-step">
      <h3>3) CrÃ©er une recette (et calculer le coÃ»t)</h3>
      <p><strong>Onglet : Recettes</strong></p>
      <ol>
        <li>Renseigne :
          <ul>
            <li><strong>Nom</strong> de la recette</li>
            <li><strong>Nombre de produits finis obtenus</strong> (ex : 120)</li>
            <li><strong>Prix de vente dâ€™un produit fini</strong> (ex : 200 FCFA)</li>
          </ul>
        </li>
        <li>Ajoute les ingrÃ©dients 1 par 1 :
          <ul>
            <li>Choisis un ingrÃ©dient</li>
            <li>QuantitÃ© + unitÃ©</li>
            <li>Clique <strong>â€œAjouter cet ingrÃ©dientâ€</strong></li>
          </ul>
        </li>
        <li>Tu vois la liste â€œIngrÃ©dients ajoutÃ©sâ€ avec le coÃ»t calculÃ©.</li>
        <li>Clique <strong>â€œEnregistrer la recetteâ€</strong>.</li>
      </ol>
      <p class="tuto-note">
        âœ… Tu peux <strong>Modifier</strong> une recette depuis â€œRecettes enregistrÃ©esâ€.<br>
        âš ï¸ Si cette recette a dÃ©jÃ  servi Ã  des ventes/stock, certaines modifications peuvent Ãªtre limitÃ©es pour ne pas fausser lâ€™historique.
      </p>
    </div>

    <!-- Ã‰tape 4 : Production / DÃ©duire stock xN -->
    <div class="tuto-step">
      <h3>4) Produire (DÃ©duire du stock xN)</h3>
      <p><strong>Onglet : Recettes</strong></p>
      <ul>
        <li>Quand tu es prÃªt Ã  fabriquer â€œen vraiâ€, utilise lâ€™option :
          <strong>DÃ©duire du stock</strong> + multiplicateur <strong>x1 / x2 / x3â€¦</strong></li>
        <li><strong>xN</strong> signifie : â€œje fais N fournÃ©es identiquesâ€.</li>
        <li>Si câ€™est cochÃ© :
          <ul>
            <li>âœ… les ingrÃ©dients sont <strong>dÃ©duits</strong> du stock (quantitÃ©s Ã— N)</li>
            <li>âœ… tes <strong>produits finis</strong> augmentent (produits Ã— N)</li>
          </ul>
        </li>
        <li>Si câ€™est dÃ©cochÃ© : tu enregistres la recette mais <strong>sans impacter</strong> les ingrÃ©dients (utile pour simuler / prÃ©parer).</li>
      </ul>
      <p class="tuto-note">
        âœ Câ€™est exactement lâ€™esprit â€œV1 : dÃ©duire du stock x1â€, mais en plus propre (avec xN).
      </p>
    </div>

    <!-- Ã‰tape 5 : Packs -->
    <div class="tuto-step">
      <h3>5) CrÃ©er des packs (avec marge + suggestion)</h3>
      <p><strong>Onglet : Packs</strong></p>
      <ol>
        <li>Donne un <strong>nom de pack</strong> (ex : â€œFormule brunchâ€).</li>
        <li>Ajoute une ou plusieurs lignes :
          <ul>
            <li><strong>Recette</strong> (produit fini)</li>
            <li><strong>QuantitÃ©</strong> incluse dans le pack</li>
          </ul>
        </li>
        <li>Le systÃ¨me calcule le <strong>coÃ»t total du pack</strong>.</li>
        <li>Tu mets ta <strong>marge souhaitÃ©e (%)</strong> â†’ la <strong>Suggestion</strong> de prix se met Ã  jour.</li>
        <li>Tu peux laisser le prix vide pour auto-calcul, ou saisir ton prix.</li>
        <li>Clique <strong>â€œCrÃ©er le packâ€</strong>.</li>
      </ol>
      <p class="tuto-note">
        âš ï¸ Les packs sont liÃ©s au <strong>stock rÃ©el</strong> : si les produits finis dâ€™une recette ne sont plus dispo,
        le systÃ¨me tâ€™alerte / bloque pour Ã©viter de vendre du stock inexistant.
      </p>
    </div>

    <!-- Ã‰tape 6 : Ventes -->
    <div class="tuto-step">
      <h3>6) Enregistrer une vente (packs + unitÃ©s)</h3>
      <p><strong>Onglet : Ventes</strong></p>
      <ol>
        <li>Renseigne <strong>Date</strong>, <strong>Heure</strong>, <strong>Vendeur</strong>, <strong>Lieu</strong>.</li>
        <li>Ajoute des packs :
          <ul>
            <li>Choisis un pack</li>
            <li>QuantitÃ© vendue</li>
            <li>Clique <strong>â€œAjouter ce packâ€</strong></li>
          </ul>
        </li>
        <li>Optionnel : vente Ã  lâ€™unitÃ© <strong>hors packs</strong> (UnitÃ©s vendues + prix unitaire).</li>
        <li>Clique <strong>â€œEnregistrer la venteâ€</strong>.</li>
      </ol>
      <p class="tuto-note">
        âœ… La vente apparaÃ®t dans â€œVentes du jourâ€ et dans lâ€™<strong>Historique</strong>.<br>
        âš ï¸ Si un pack est indisponible (stock insuffisant), la vente est bloquÃ©e avec un message clair.
      </p>
    </div>

    <!-- Ã‰tape 7 : DÃ©penses -->
    <div class="tuto-step">
      <h3>7) Enregistrer les dÃ©penses</h3>
      <p><strong>Onglet : DÃ©penses</strong></p>
      <ol>
        <li>Choisis la <strong>date rÃ©elle</strong>, une <strong>catÃ©gorie</strong> (gaz, transport, salaireâ€¦), le <strong>montant</strong>.</li>
        <li>Clique <strong>â€œEnregistrer la dÃ©penseâ€</strong>.</li>
        <li>Tu peux <strong>modifier</strong> ou <strong>supprimer</strong> une dÃ©pense.</li>
      </ol>
    </div>

    <!-- Ã‰tape 8 : Dashboard + Historique + Exports -->
    <div class="tuto-step">
      <h3>8) Lire tes rÃ©sultats + exporter</h3>
      <p><strong>Onglets : Dashboard & Historique</strong></p>
      <ul>
        <li><strong>Dashboard</strong> : revenu total, dÃ©penses, bÃ©nÃ©fice net, stock restant, capacitÃ©, meilleur vendeur, meilleur pack.</li>
        <li><strong>Historique</strong> : tout est listÃ©, et tu peux :
          <ul>
            <li><strong>Exporter PDF</strong></li>
            <li><strong>Exporter CSV</strong></li>
            <li><strong>Partager WhatsApp</strong></li>
          </ul>
        </li>
      </ul>
      <p class="tuto-note">
        âœ RÃ©flexe pro : exporte rÃ©guliÃ¨rement (CSV/PDF) pour sauvegarder hors du tÃ©lÃ©phone/PC.
      </p>
    </div>

    <!-- Ã‰tape 9 : Sauvegarde / Import / Export (rappel) -->
    <div class="tuto-step">
      <h3>9) Sauvegardes & transferts (clÃ© USB / nouveau tÃ©lÃ©phone)</h3>
      <p><strong>Onglet : Config</strong></p>
      <ul>
        <li>Lâ€™app enregistre automatiquement les donnÃ©es dans le navigateur (localStorage).</li>
        <li>Pour sÃ©curiser et transfÃ©rer :
          <ul>
            <li><strong>Exporter le profil actif</strong> (JSON)</li>
            <li><strong>Importer un profil</strong> (JSON) sur un autre appareil</li>
            <li><strong>Exporter / Importer TOUT</strong> si tu veux tout migrer dâ€™un coup</li>
          </ul>
        </li>
      </ul>
      <p class="tuto-note">
        âœ Si tu changes de tÃ©lÃ©phone/navigateur, lâ€™import JSON te remet tout : ingrÃ©dients, recettes, packs, ventes, dÃ©penses, etc.
      </p>
    </div>

  </div>

  <p class="tuto-outro">
    ğŸ’¡ Routine simple : <strong>Produire (Recettes + DÃ©duire xN) â†’ Vendre â†’ DÃ©penses â†’ Export</strong>.<br>
    Et tu gardes une trace claire avec lâ€™Historique + les profils.
  </p>
</section>


<footer class="app-footer">
    BusinessFood Manager â€“ Â© 2025 Takougang Eddy â€¢ Fotsi Global Services
</footer>

<!-- ======================= SCRIPTS ======================= -->
<script src="app.js"></script>
</body>
</html>
